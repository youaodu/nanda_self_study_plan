**多道程序设计**



多道程序设计环境特点：

​		1.独立性

​				在多道环境下执行的每道程序都是逻辑上独立的，且执行速度与其他程序无关，执行的起止时间也是独立的。

​		2.随机性

​				程序和数据的输入与执行开始时间都是随机的

​		3.资源共享性

​				在多道程序设计下的程序，都是共享系统资源的，如（CPU，内存，硬盘等...）



多道程序设计环境缺陷

​		1.可能延长程序的执行时间

​		2.系统效率的提高有一定限度

-------

**进程**

​		定义：

​				进程是具有一定独立功能的程序在某个数据集合上的一次运行活动，是系统进行分配和调度的一个独立单位。



​		分类：

​			1.系统进程（操作系统的程序在运行）

​			2.用户进程（用户系统的程序在运行）

​		

​		特征：(重点)

​				1.并发性	2.动态性	3.独立性	4.交往性	5.异步性	6.结构性

​		

​		进程状态

​				三状态模型

​						1.运行状态

​						2.就绪状态

​						3.等待状态（阻塞状态）

​				五状态模型

​						1.运行状态

​						2.就绪状态

​						3.等待状态（阻塞状态）

​						4.创建状态

​						5.结束状态

​				七状态模型

​						1.运行状态

​						2.就绪状态

​						3.阻塞/挂起状态

​						4.创建状态

​						5.结束状态

​						6.就绪/挂起状态

​						7.阻塞状态						

​			状态转换过程

​				1.就绪 -> 运行

​				2.运行 -> 就绪（资源被抢占，进入就绪状态）

​				3.运行 -> 等待

​				4.等待 -> 就绪	



​		进程和程序的关联：

​				程序是构成进程组成部分之一，一个进程的运行目标是执行它所对应的程序。

​		进程和程序的区别：

​				1.状态不同。程序是静态的（放在磁盘上），进程是动态的

​				2.两者是多对多关系。

​		进程组成结构

​				进程 = 程序 + 数据 + 进程控制块（PCB）



-----

**进程控制块**

​		作用：

​				描述进程的基本情况以及进程的运行变化过程。

​				PCB是进程存在的唯一标志，当系统创建一个进程是，必须为进程设置一个PCB，在利用PCB对进程进行控制和管理。撤销进程时，系统收回PCB，进程随之消亡。

​		PCB当中的内容

​				1.调度信息

​						包括进程名、进程号、地址空间信息、优先级、当前状态、资源清单、家族关系、消息队列指针、进程队列指针和当前打开文件等。

​				2.现场信息

​						刻画了运行情况，主要是CPU寄存器的信息，如程序状态字、时钟、界地址寄存器等。当程序中断是，需要保存现场信息。



​		进程队列

​				1.就绪队列（1或多个）

​				2.等待队列（多个，因为等待原因不一致，一个原因一个队列）

​				3.运行队列（多个，一个CPU可能有一个）



----

**进程控制**

​		名词说明

​				进程控制：对进程整个生命周期中各种状态之间的装换进行的控制。有原语实现。

​				原语：就是由若干条指令组成的，用于完成一定功能的一个过程，一个不可分割的进本单位，即原语在执行过程中不允许被中断。原子操作在系统态下执行，常驻内存。

​		进程控制原语：

​				1.创建原语：

​						一个进程可以使用创建原语创建一个新的进程，前者称为父进程，后者称为子进程，子进程又可以创建新进程，形成进程家族。

​						主要任务：建立进程控制块PCB

​						执行过程：先申请一块空闲PCB，然后将有关信息填入PCB，置进程状态为就绪状态，插入就绪队列。

​				2.撤销原语

​						当一个进程完成任务后，应当撤销它，以便及时释放它所占用的资源。

​						主要任务：撤销进程控制块PCB

​						执行过程：找到要被撤销进程的PCB，将它从所在队列中删除，撤销属于该进程的一切子进程所占的全部资源，并消去被撤销进程的PCB。

​				3.阻塞原语

​						若某个进程的执行过程中需要I/O操作，则该进程调用阻塞原语将其从运行状态转换为阻塞状态。

​						执行过程：产生中断，把处理器的当前状态保存在PCB的现场信息中，当前进程置为等待态，插入等待队列。

​				4.唤醒原语

​						一个进程因为等待某事件的发生而处于等待状态，当该事件发生后，就用唤醒原语将其转换为就绪状态。

​						执行过程：在等待队列中找到该进程，讲进程的当前状态置为就绪状态，然后将它从等待队列中撤出并插入到就绪队列中排队，等待调度执行。

-----

**线程**

 